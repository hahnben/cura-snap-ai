# Production profile configuration
# This profile is used for production deployments

# CRITICAL: All environment variables must be set in production
# JWT secret from Supabase (REQUIRED in production)
supabase.jwt.secret=${SUPABASE_JWT_SECRET}

# PostgreSQL DB connection via Supabase (REQUIRED in production)
spring.datasource.url=${DATABASE_URL}
spring.datasource.driverClassName=org.postgresql.Driver
spring.datasource.username=${DATABASE_USER}
spring.datasource.password=${DATABASE_PASSWORD}

# JPA configuration for production
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=25
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# Production service URLs
agent.service.url=${AGENT_SERVICE_URL}
agent.service.enabled=${AGENT_SERVICE_ENABLED:true}

transcription.service.url=${TRANSCRIPTION_SERVICE_URL}
transcription.service.enabled=${TRANSCRIPTION_SERVICE_ENABLED:true}
transcription.service.timeout=${TRANSCRIPTION_SERVICE_TIMEOUT:30000}

# Production file upload limits (enforced by reverse proxy)
spring.servlet.multipart.max-file-size=25MB
spring.servlet.multipart.max-request-size=30MB
spring.servlet.multipart.enabled=true
spring.servlet.multipart.file-size-threshold=2KB

# Production logging
logging.level.ai.curasnap.backend=INFO
logging.level.org.springframework.security=WARN
logging.level.org.springframework.web=WARN

# Production security headers
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.same-site=strict

# Production server configuration
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain
server.compression.min-response-size=1024

# Production error handling
server.error.include-stacktrace=never
server.error.include-message=never
server.error.include-binding-errors=never