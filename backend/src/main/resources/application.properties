# JWT secret from Supabase (required for authentication)
# WARNING: In production, SUPABASE_JWT_SECRET environment variable MUST be set
# The fallback value is only for local development and testing
supabase.jwt.secret=${SUPABASE_JWT_SECRET}

# PostgreSQL DB connection via Supabase Shared Pooler
# For development, you can set DATABASE_URL environment variable
# or use the test profile with: --spring.profiles.active=test
spring.datasource.url=${DATABASE_URL}

# Hibernate and SQL formatting (development defaults)
spring.jpa.hibernate.ddl-auto=${DDL_AUTO:none}
spring.jpa.show-sql=${SHOW_SQL:true}
spring.jpa.properties.hibernate.format_sql=true

# Database auto-configuration (will be disabled if no DATABASE_URL is set)
spring.autoconfigure.exclude=${AUTOCONFIGURE_EXCLUDE:}

# Agent Service Configuration
agent.service.url=${AGENT_SERVICE_URL:http://localhost:8001}
agent.service.enabled=${AGENT_SERVICE_ENABLED:true}

# Transcription Service Configuration
transcription.service.url=${TRANSCRIPTION_SERVICE_URL:http://localhost:8002}
transcription.service.enabled=${TRANSCRIPTION_SERVICE_ENABLED:true}
transcription.service.timeout=${TRANSCRIPTION_SERVICE_TIMEOUT:30000}

# Multipart File Upload Configuration (Fallback Security Limits)
# Primary limits should be enforced by Caddy reverse proxy
spring.servlet.multipart.max-file-size=25MB
spring.servlet.multipart.max-request-size=30MB
spring.servlet.multipart.enabled=true
spring.servlet.multipart.file-size-threshold=2KB
